(function(e){function t(t){for(var r,a,s=t[0],u=t[1],c=t[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("99af"),n("0d03"),n("b0c0"),n("e25e"),n("ac1f"),n("1276"),n("e623"),n("e379"),n("5dc8"),n("37e1");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("app-nav-drawer",{attrs:{drawer:e.drawer},on:{drawerState:function(t){e.drawer=t}}}),n("app-header",{attrs:{drawer:e.drawer},on:{drawerState:function(t){e.drawer=t}}}),n("v-content",[n("router-view")],1)],1)},i=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"blue darken-3 pl-0",dark:""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.drawerState=!e.drawer}}}),n("v-toolbar-title",{staticClass:"ml-0 pl-0",staticStyle:{width:"300px"}},[n("span",{staticClass:"hidden-sm-and-down"},[e._v("Join Us")])]),n("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search Events"},model:{value:e.$root.searchTerm,callback:function(t){e.$set(e.$root,"searchTerm",t)},expression:"$root.searchTerm"}}),n("v-col",{attrs:{cols:"12",sm:"1"}},[n("v-select",{attrs:{flat:"","no-data-text":"","hide-details":"","solo-inverted":"",items:[5,10,25,50,100,250],label:"Dist"},model:{value:e.$root.searchDistance,callback:function(t){e.$set(e.$root,"searchDistance",t)},expression:"$root.searchDistance"}})],1),n("v-col",{staticClass:"pl-0",attrs:{cols:"12",sm:"2"}},[n("vuetify-google-autocomplete",{staticClass:"search-from",attrs:{flat:"","solo-inverted":"","no-data-text":"","hide-details":"",id:"search-from",placeholder:"Search From"},on:{placechanged:e.setUserLocation}})],1),n("v-btn",{attrs:{icon:""},on:{click:e.geolocate}},[n("v-icon",[e._v("mdi-target")])],1),n("v-spacer"),n("v-btn",{attrs:{icon:"",large:""}},[n("v-avatar",{attrs:{size:"32px",item:""}},[n("v-img",{attrs:{src:e.avatarSource,alt:"Vuetify"}})],1)],1)],1)],1)},s=[],u=n("2ef0"),c=n.n(u),l={props:{drawer:Boolean},methods:{setUserLocation:function(e){var t=c.a.get(e,"latitude"),n=c.a.get(e,"longitude");"number"==typeof t&&"number"==typeof n&&(this.$root.userLocation={latitude:t,longitude:n})},geolocate:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){e.$root.userLocation={latitude:t.coords.latitude,longitude:t.coords.longitude}}))}},computed:{drawerState:{get:function(){return this.drawer},set:function(e){this.$emit("drawerState",e)}},avatarSource:function(){return c.a.get(this,"$auth.user.picture","")||"https://cdn.vuetifyjs.com/images/logos/logo.svg"}}},d=l,p=(n("7b0e"),n("2877")),v=Object(p["a"])(d,a,s,!1,null,null,null),m=v.exports,f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,app:""},model:{value:e.drawerState,callback:function(t){e.drawerState=t},expression:"drawerState"}},[n("v-list",{attrs:{dense:""}},[e._l(e.items,(function(t){return[t.heading?n("v-row",{key:t.heading,attrs:{align:"center"}},[n("v-col",{attrs:{cols:"6"}},[t.heading?n("v-subheader",[e._v(" "+e._s(t.heading)+" ")]):e._e()],1),n("v-col",{staticClass:"text-center",attrs:{cols:"6"}},[n("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):t.children?n("v-list-group",{key:t.text,attrs:{"prepend-icon":t.model?t.icon:t["icon-alt"],"append-icon":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)]},proxy:!0}],null,!0),model:{value:t.model,callback:function(n){e.$set(t,"model",n)},expression:"item.model"}},e._l(t.children,(function(t,r){return n("v-list-item",{key:r,attrs:{link:""}},[t.icon?n("v-list-item-action",[n("v-icon",[e._v(e._s(t.icon))])],1):e._e(),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)})),1):n("v-list-item",{key:t.text,attrs:{to:t.link,link:""}},[n("v-list-item-action",[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)]}))],2)],1)},g=[],h={props:{drawer:Boolean},computed:{drawerState:{get:function(){return this.drawer},set:function(e){this.$emit("drawerState",e)}}},data:function(){return{items:[{icon:"mdi-calendar-range",text:"Events",link:"/"},{icon:"mdi-account-group",text:"Groups",link:"/groups"},{icon:"mdi-settings",text:"Account Settings",link:"/profile"},{icon:"mdi-logout",text:"Logout",link:"/logout"}]}}},b=h,_=Object(p["a"])(b,f,g,!1,null,null,null),w=_.exports,$={props:{source:String},components:{AppHeader:m,AppNavDrawer:w},data:function(){return{drawer:null}}},y=$,O=Object(p["a"])(y,o,i,!1,null,null,null),x=O.exports,S=n("8c4f"),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-col",[n("h1",[e._v("Events")]),n("v-btn",{attrs:{icon:""},on:{click:e.refetchEvents}},[n("v-icon",[e._v("mdi-refresh")])],1),n("v-row",{staticClass:"px-2"},e._l(e.sortedEvents,(function(t,r){return n("event-tile",e._b({key:r,staticClass:"mr-4 mb-4"},"event-tile",t,!1))})),1)],1)],1)},j=[],T=(n("d81d"),n("fb6a"),n("4e82"),n("841c"),n("8c84")),k=n("9a2e"),C=n("9530"),P=n.n(C);function G(){var e=Object(k["a"])(["\n query searchEvents($searchTerm: String, $latitude: Float, $longitude: Float, $distance: Float){\n     searchEvents(searchTerm: $searchTerm, latitude: $latitude, longitude: $longitude, distance: $distance){\n        id\n        name\n        description\n        date\n        latitude\n        longitude\n        startTime\n        endTime\n        addressText\n    }\n}\n"]);return G=function(){return e},e}function A(){var e=Object(k["a"])(["\nquery getEvents{\n    events{\n        id\n        name\n        description\n        date\n        latitude\n        longitude\n        startTime\n        endTime\n        addressText\n    }\n}\n"]);return A=function(){return e},e}function D(){var e=Object(k["a"])(["\nquery getEvent($id: String!){\n    event(id: $id){\n        id\n        name\n        group{\n            id\n            name\n        }\n        latitude\n        longitude\n        mapUrl\n        addressText\n        addressHtml\n        description\n        date\n        startTime\n        endTime\n        usersAttending{\n            id\n            name\n        }\n    }\n}\n"]);return D=function(){return e},e}function I(){var e=Object(k["a"])(["\nquery getGroups{\n    groups{\n        id\n        name\n        description\n        owner{\n            name\n        }\n    }\n}\n"]);return I=function(){return e},e}function U(){var e=Object(k["a"])(["\nquery getGroup($id: String!){\n    group(id: $id){\n        id\n        name\n        description\n        owner{\n            name\n        }\n        members{\n            id\n            name\n        }\n        events{\n            id\n            name\n        }\n    }\n}\n"]);return U=function(){return e},e}function q(){var e=Object(k["a"])(["\nquery {\n    me{\n        id\n        name\n        auth0id\n        ownerOf {\n            id\n            name\n        }\n        memberOf{\n            id\n            name\n        }\n    }\n}\n"]);return q=function(){return e},e}var M=P()(q()),L=P()(U()),V=P()(I()),N=P()(D()),F=P()(A()),H=P()(G()),B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mb-4",attrs:{"max-width":"400",outlined:""}},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("div",{staticClass:"overline mb-4"},[e._v("EVENT")]),n("v-list-item-title",{staticClass:"headline mb-1"},[e._v(e._s(e.name))]),n("v-card-subtitle",{staticClass:"pl-0 pt-0",staticStyle:{"line-height":"2"}},[e.distanceToUser?n("span",[n("v-icon",[e._v("mdi-road")]),e._v(" "+e._s(e.distanceToUser)+" miles"),n("br")],1):e._e(),e.date?n("span",[n("v-icon",[e._v("mdi-clock")]),e._v(" "+e._s(e._f("formatDate")(e.date))+" "+e._s(e._f("formatTime")(e.startTime))+"-"+e._s(e._f("formatTime")(e.endTime)))],1):e._e()]),n("v-card-text",{staticClass:"px-0 pb-0"},[e._v(" "+e._s(e.description)+" ")])],1)],1),n("v-card-actions",[n("v-btn",{attrs:{to:"/event/"+e.id,text:""}},[e._v("View")])],1)],1)},R=[],J=(n("a9e3"),{props:{id:String,name:String,description:String,latitude:Number,longitude:Number,date:String,startTime:String,endTime:String,distanceToUser:{type:Number,default:0}}}),K=J,W=Object(p["a"])(K,B,R,!1,null,null,null),z=W.exports,Q={apollo:{events:F},components:{EventTile:z},data:function(){return{events:[]}},mounted:function(){this.$root.searchTerm||this.$apollo.queries.events.refetch()},watch:{"$root.searchTerm":function(e,t){var n=this;!e&&t&&this.$apollo.queries.events.refetch(),clearTimeout(this._timerId),this._timerId=setTimeout((function(){n.search()}),500)},"$root.searchDistance":function(){var e=this;console.log("distance watcher firing"),clearTimeout(this._timerId),this._timerId=setTimeout((function(){e.search()}),500)}},computed:{sortedEvents:function(){var e=this,t=this.events.slice();return t=t.map((function(t){return t.distanceToUser=e.distanceToUser(t.latitude,t.longitude),t})),t.sort((function(e,t){return e.distanceToUser-t.distanceToUser})),t}},methods:{refetchEvents:function(){return this.$apollo.queries.events.refetch()},distanceToUser:function(e,t){if("number"==typeof this.$root.userLocation.latitude&&"number"==typeof this.$root.userLocation.longitude&&"number"==typeof e&&"number"==typeof t){var n=Object(T["getDistance"])(this.$root.userLocation,{latitude:e,longitude:t}),r=n/1609,o=Math.round(10*r)/10;return o}return 0},getMeters:function(e){return 1609.344*e},search:function(){var e=this,t=this.$root.searchTerm;if(t){var n=c.a.get(this,"$root.userLocation.latitude",void 0),r=c.a.get(this,"$root.userLocation.longitude",void 0),o="number"==typeof n&&"number"==typeof r?this.$root.searchDistance:void 0;this.$apollo.query({query:H,variables:{searchTerm:t,latitude:n,longitude:r,distance:o}}).then((function(t){var n=t.data.searchEvents;e.events=n})).catch(console.error)}}}},Y=Q,X=Object(p["a"])(Y,E,j,!1,null,null,null),Z=X.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-col",[n("h1",[e._v("Groups")]),n("v-row",{staticClass:"px-2"},e._l(e.groups,(function(t,r){return n("group-tile",e._b({key:r},"group-tile",t,!1))})),1)],1)],1)},te=[],ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mb-4 mr-4",attrs:{"max-width":"400",outlined:""}},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("div",{staticClass:"overline mb-4"},[e._v("GROUP")]),n("v-list-item-title",{staticClass:"headline mb-1"},[e._v(e._s(e.name))]),n("v-list-item-subtitle",[e._v(e._s(e.description))])],1)],1),n("v-card-actions",[n("v-btn",{attrs:{to:"/group/"+e.id,text:""}},[e._v("View")])],1)],1)},re=[],oe={props:{id:String,name:String,description:String}},ie=oe,ae=Object(p["a"])(ie,ne,re,!1,null,null,null),se=ae.exports,ue={apollo:{groups:V},components:{GroupTile:se},data:function(){return{groups:[]}}},ce=ue,le=Object(p["a"])(ce,ee,te,!1,null,null,null),de=le.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.group.name?n("v-container",[n("v-row",[n("v-col",[e.ownsThisGroup?n("v-btn",{on:{click:e.deleteGroup}},[e._v("Delete Group")]):e._e(),n("h1",[e._v(e._s(e.group.name))]),n("p",[e._v("Created by "+e._s(e._f("noLastName")(e.group.owner.name)))]),e.group.description?n("p",[e._v(e._s(e.group.description))]):e._e(),e.group.events.length>0?n("div",[n("h2",{staticClass:"mb-2"},[e._v("Upcoming Events")]),n("v-row",{staticClass:"px-2"},e._l(e.group.events,(function(t,r){return n("event-tile",e._b({key:r,staticClass:"mb-4 mr-4"},"event-tile",t,!1))})),1)],1):e._e()],1),n("user-chips-block",{attrs:{members:e.group.members}},[e.ownsThisGroup?e._e():n("v-btn",{attrs:{color:e.isGroupMember?"":"primary"},on:{click:e.toggleMembership}},[e._v(" "+e._s(e.isGroupMember?"Leave":"Join")+" ")])],1)],1),e.ownsThisGroup?n("create-event-component",{attrs:{groupId:e.group.id},on:{closeDialog:function(t){return e.$apollo.queries.group.refetch()}}}):e._e()],1):e._e()},ve=[],me=(n("4de4"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-btn",{attrs:{bottom:"",color:"pink",dark:"",fab:"",fixed:"",right:""},on:{click:function(t){e.dialog=!e.dialog}}},[n("v-icon",[e._v("mdi-plus")])],1),n("create-event-dialog",{attrs:{groupId:e.groupId,dialog:e.dialog},on:{dialogState:function(t){e.dialog=t}}})],1)}),fe=[],ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"800px"},model:{value:e.dialogState,callback:function(t){e.dialogState=t},expression:"dialogState"}},[n("v-card",[n("v-card-title",{staticClass:"grey darken-2"},[e._v(" Create event ")]),n("v-container",[n("v-row",[n("v-col",{staticClass:"align-center justify-space-between",attrs:{cols:"12"}},[n("form",{attrs:{id:"create-event-form"}},[n("v-text-field",{attrs:{placeholder:"Event Name"},model:{value:e.newEvent.name,callback:function(t){e.$set(e.newEvent,"name",t)},expression:"newEvent.name"}}),n("v-text-field",{attrs:{placeholder:"Event Description"},model:{value:e.newEvent.description,callback:function(t){e.$set(e.newEvent,"description",t)},expression:"newEvent.description"}}),n("vuetify-google-autocomplete",{attrs:{id:"map","append-icon":"mdi-magnify",placeholder:"Where? (Enter address)"},on:{placechanged:e.getAddressData}}),e.newEvent.addressText?n("v-card",{staticClass:"mb-4"},[n("v-card-text",{domProps:{innerHTML:e._s(e.newEvent.addressHtml)}}),n("v-card-actions",[n("v-btn",{attrs:{href:e.newEvent.mapUrl,target:"_blank"}},[e._v("See Map")])],1)],1):e._e(),n("v-date-picker",{attrs:{min:(new Date).toISOString().substr(0,10)},model:{value:e.newEvent.date,callback:function(t){e.$set(e.newEvent,"date",t)},expression:"newEvent.date"}}),n("v-row",[n("v-col",{staticStyle:{width:"290px",flex:"0 1 auto"}},[n("h2",[e._v("Start:")]),n("v-time-picker",{attrs:{max:e.newEvent.end,"ampm-in-title":""},model:{value:e.newEvent.start,callback:function(t){e.$set(e.newEvent,"start",t)},expression:"newEvent.start"}})],1),n("v-col",{staticStyle:{width:"290px",flex:"0 1 auto"}},[n("h2",[e._v("End:")]),n("v-time-picker",{attrs:{min:e.newEvent.start,"ampm-in-title":""},model:{value:e.newEvent.end,callback:function(t){e.$set(e.newEvent,"end",t)},expression:"newEvent.end"}})],1)],1)],1)])],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogState=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{text:""},on:{click:e.create}},[e._v("Create")])],1)],1)],1)},he=[],be=(n("a4d3"),n("4160"),n("accc"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("2fa7"));function _e(){var e=Object(k["a"])(["\n    mutation leaveGroup($id: String!){\n        leaveGroup(groupId: $id){\n            id\n            name\n            owner{\n                name\n            }\n            members{\n                id\n                name\n            }\n            events{\n                id\n                name\n            }\n        }\n    }\n"]);return _e=function(){return e},e}function we(){var e=Object(k["a"])(["\n    mutation joinGroup($id: String!){\n        joinGroup(groupId: $id){\n            id\n            name\n            owner{\n                name\n            }\n            members{\n                id\n                name\n            }\n            events{\n                id\n                name\n            }\n        }\n    }\n"]);return we=function(){return e},e}function $e(){var e=Object(k["a"])(["\n    mutation deleteEvent($id: String!){\n        deleteEvent(eventId: $id){\n            name\n            description\n            startTime\n            endTime\n            usersAttending{\n                id\n                name\n            }\n        }\n    }\n"]);return $e=function(){return e},e}function ye(){var e=Object(k["a"])(["\n    mutation leaveEvent($id: String!){\n        leaveEvent(eventId: $id){\n            name\n            description\n            startTime\n            endTime\n            usersAttending{\n                id\n                name\n            }\n        }\n    }\n"]);return ye=function(){return e},e}function Oe(){var e=Object(k["a"])(["\n    mutation joinEvent($id: String!){\n        joinEvent(eventId: $id){\n            name\n            description\n            startTime\n            endTime\n            usersAttending{\n                id\n                name\n            }\n        }\n    }\n"]);return Oe=function(){return e},e}function xe(){var e=Object(k["a"])(["\n    mutation createEvent(\n        $name: String!, \n        $description: String, \n        $group: String!,\n        $date: String, \n        $start: String, \n        $end: String,\n        $latitude: Float,\n        $longitude: Float,\n        $mapUrl: String,\n        $addressText: String,\n        $addressHtml: String,){\n        createEvent(event: {\n            name: $name\n            description: $description\n            group: $group\n            startTime: $start\n            endTime: $end\n            date: $date\n            latitude: $latitude\n            longitude: $longitude\n            mapUrl: $mapUrl\n            addressText: $addressText\n            addressHtml: $addressHtml\n        }){\n            name\n            description\n            date\n            startTime\n            endTime\n            latitude\n            longitude\n            mapUrl\n            addressText\n            addressHtml\n            usersAttending{\n                id\n                name\n            }\n        }\n    }\n"]);return xe=function(){return e},e}function Se(){var e=Object(k["a"])(["\n    mutation deleteGroup($id: String!){\n        deleteGroup(groupId: $id){\n            id\n            name\n        }\n    }\n"]);return Se=function(){return e},e}function Ee(){var e=Object(k["a"])(["\n    mutation createGroup($name: String!, $description: String){\n        createGroup(name: $name, description: $description){\n            id\n            name\n            description\n        }\n    }\n"]);return Ee=function(){return e},e}function je(){var e=Object(k["a"])(["\n mutation upsertUser($name: String!){\n     authorize(name: $name){\n        id\n        auth0id\n        name\n        role\n     }\n }"]);return je=function(){return e},e}var Te=P()(je()),ke=P()(Ee()),Ce=P()(Se()),Pe=P()(xe()),Ge=P()(Oe()),Ae=P()(ye()),De=P()($e()),Ie=P()(we()),Ue=P()(_e());function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(n,!0).forEach((function(t){Object(be["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le={props:{dialog:{type:Boolean,default:!1},groupId:String},computed:{dialogState:{get:function(){return this.dialog},set:function(e){this.$emit("dialogState",e)}}},data:function(){return{newEvent:{name:"",description:"",group:"",date:(new Date).toISOString().substr(0,10),start:"18:00",end:"21:00",latitude:0,longitude:0,addressText:"",addressHtml:"",mapUrl:""}}},methods:{getAddressData:function(e,t){var n=e.latitude,r=void 0===n?0:n,o=e.longitude,i=void 0===o?0:o,a=t.adr_address,s=void 0===a?"":a,u=t.formatted_address,l=void 0===u?"":u,d=t.url,p=void 0===d?"":d;c.a.merge(this.newEvent,{latitude:r,longitude:i,addressText:l,addressHtml:s,mapUrl:p})},create:function(){var e=this;this.newEvent.group=this.groupId,this.$apollo.mutate({mutation:Pe,variables:Me({},this.newEvent)}).then((function(){e.dialogState=!1})).catch(console.error)}}},Ve=Le,Ne=Object(p["a"])(Ve,ge,he,!1,null,null,null),Fe=Ne.exports,He={props:{source:String,groupId:String},watch:{dialog:function(e){!1===e&&this.$emit("closeDialog",!0)}},components:{CreateEventDialog:Fe},data:function(){return{dialog:!1}}},Be=He,Re=Object(p["a"])(Be,me,fe,!1,null,null,null),Je=Re.exports,Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-col",{staticClass:"pt-4"},[e._t("default"),e.members.length>0?n("div",[n("h2",{staticClass:"mb-2"},[e._v(e._s(e.heading))]),e.members.length>0?n("v-row",{staticClass:"px-2"},e._l(e.members,(function(t,r){return n("v-chip",{key:r},[e._v(" "+e._s(e._f("noLastName")(t.name))+" ")])})),1):e._e()],1):e._e()],2)},We=[],ze={props:{members:{type:Array,default:function(){return[]}},heading:{type:String,default:"Members"}}},Qe=ze,Ye=Object(p["a"])(Qe,Ke,We,!1,null,null,null),Xe=Ye.exports,Ze={apollo:{me:M,group:{query:L,variables:function(){return{id:this.$route.params.id}}}},mounted:function(){this.$apollo.queries.group.refetch()},components:{EventTile:z,CreateEventComponent:Je,UserChipsBlock:Xe},computed:{ownsThisGroup:function(){var e=this;if(c.a.get(this,"me.ownerOf")){var t=this.me.ownerOf.filter((function(t){var n=t.id;return n==e.group.id}));return t.length>0}return!1},hasMembers:function(){return c.a.get(this,"group.members",[]).length>0},isGroupMember:function(){var e=this;if(c.a.get(this,"group.members")&&c.a.get(this,"me.id")){var t=this.group.members.filter((function(t){var n=t.id;return n==e.me.id}));return t.length>0}return!1}},data:function(){return{group:{id:"",name:"",description:"",owner:{name:""},events:[]}}},methods:{toggleMembership:function(){this.isGroupMember?this.leaveGroup():this.joinGroup()},deleteGroup:function(){var e=this;this.$apollo.mutate({mutation:Ce,variables:{id:this.group.id}}).then((function(){return e.$apollo.queries.me.refetch()})).then((function(){e.$router.push({path:"/profile"})})).catch(console.error)},joinGroup:function(){var e=this;this.$apollo.mutate({mutation:Ie,variables:{id:this.group.id}}).then((function(t){var n=t.data.joinGroup;e.group=c.a.merge(e.group,n)})).catch(console.error)},leaveGroup:function(){var e=this;this.$apollo.mutate({mutation:Ue,variables:{id:this.group.id}}).then((function(t){var n=t.data.leaveGroup;e.group=c.a.merge(e.group,n)})).catch(console.error)}}},et=Ze,tt=Object(p["a"])(et,pe,ve,!1,null,null,null),nt=tt.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.event.name?n("v-container",[n("v-row",[n("v-col",[e.ownsThisGroup?n("v-btn",{on:{click:e.deleteEvent}},[e._v("Delete Event")]):e._e(),n("h1",[e._v(e._s(e.event.name))]),n("h3",[e._v("Group: "+e._s(e.event.group.name))]),n("p",[n("a",{attrs:{href:e.event.mapUrl}},[n("v-icon",[e._v("mdi-map")]),e._v(" "+e._s(e.event.addressText))],1)]),e.event.date&&e.event.startTime&&e.event.endTime?n("p",[n("v-icon",[e._v("mdi-clock")]),e._v(" "+e._s(e._f("formatDate")(e.event.date))+" "+e._s(e._f("formatTime")(e.event.startTime))+"-"+e._s(e._f("formatTime")(e.event.endTime)))],1):e._e(),n("p",[e._v(e._s(e.event.description))])],1),n("user-chips-block",{attrs:{members:e.event.usersAttending,heading:"Members Attending"}},[n("v-btn",{attrs:{color:e.userIsAttending?"":"primary"},on:{click:e.toggleRsvp}},[e._v(" "+e._s(e.userIsAttending?"Leave":"Attend")+" ")])],1)],1)],1):e._e()},ot=[],it={apollo:{me:M,event:{query:N,variables:function(){return{id:this.$route.params.id}}},group:{query:L,variables:function(){return{id:this.event.group.id}}}},components:{UserChipsBlock:Xe},computed:{ownsThisGroup:function(){var e=this;if(c.a.get(this,"me.ownerOf")){var t=this.me.ownerOf.filter((function(t){var n=t.id;return n==e.event.group.id}));return t.length>0}return!1},userIsAttending:function(){var e=this;if(c.a.get(this,"event.usersAttending")&&c.a.get(this,"me.id")){var t=this.event.usersAttending.filter((function(t){var n=t.id;return e.me.id==n}));return t.length>0}return!1}},data:function(){return{event:{id:this.$route.params.id,name:"",description:"",group:{id:"",name:""}}}},methods:{toggleRsvp:function(){this.userIsAttending?this.leaveEvent():this.joinEvent()},deleteEvent:function(){var e=this;this.$apollo.mutate({mutation:De,variables:{id:this.event.id}}).then((function(){e.$apollo.queries.group.refetch(),e.$router.push({path:"/group/"+e.event.group.id})})).catch(console.error)},joinEvent:function(){var e=this;this.$apollo.mutate({mutation:Ge,variables:{id:this.$route.params.id}}).then((function(){return e.$apollo.queries.event.refetch()})).catch(console.error)},leaveEvent:function(){var e=this;this.$apollo.mutate({mutation:Ae,variables:{id:this.$route.params.id}}).then((function(){return e.$apollo.queries.event.refetch()})).catch(console.error)}}},at=it,st=Object(p["a"])(at,rt,ot,!1,null,null,null),ut=st.exports,ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-col",{staticClass:"profile"},[n("h1",[e._v(e._s(e.name))]),n("v-row",[e.ownsGroups?n("v-col",{attrs:{cols:"12",sm:"6"}},[n("h2",[e._v("Creator")]),e._l(e.me.ownerOf,(function(t,r){return n("v-card",{key:r,staticClass:"mb-4",attrs:{to:"/group/"+t.id}},[n("v-card-title",[e._v(e._s(t.name))]),n("v-card-subtitle",[e._v(e._s(t.description))])],1)}))],2):e._e(),e.isGroupMember?n("v-col",{attrs:{cols:"12",sm:"6"}},[n("h2",[e._v("Member")]),e._l(e.me.memberOf,(function(t,r){return n("v-card",{key:r,staticClass:"mb-4",attrs:{to:"/group/"+t.id}},[n("v-card-title",[e._v(e._s(t.name))])],1)}))],2):e._e()],1),n("create-group-component",{on:{closeDialog:function(t){return e.$apollo.queries.me.refetch()}}})],1)],1)},lt=[],dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-btn",{attrs:{bottom:"",color:"pink",dark:"",fab:"",fixed:"",right:""},on:{click:function(t){e.dialog=!e.dialog}}},[n("v-icon",[e._v("mdi-plus")])],1),n("create-group-dialog",{attrs:{dialog:e.dialog},on:{dialogState:function(t){e.dialog=t}}})],1)},pt=[],vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{width:"800px"},model:{value:e.dialogState,callback:function(t){e.dialogState=t},expression:"dialogState"}},[n("v-card",[n("v-card-title",{staticClass:"grey darken-2"},[e._v(" Create group ")]),n("v-container",[n("v-row",[n("v-col",{staticClass:"align-center justify-space-between",attrs:{cols:"12"}},[n("form",{attrs:{id:"create-group-form"}},[n("v-text-field",{attrs:{placeholder:"Group Name"},model:{value:e.newGroup.name,callback:function(t){e.$set(e.newGroup,"name",t)},expression:"newGroup.name"}}),n("v-text-field",{attrs:{placeholder:"Group Description"},model:{value:e.newGroup.description,callback:function(t){e.$set(e.newGroup,"description",t)},expression:"newGroup.description"}})],1)])],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dialogState=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{text:""},on:{click:e.create}},[e._v("Create")])],1)],1)],1)},mt=[];function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(n,!0).forEach((function(t){Object(be["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht={props:{dialog:{type:Boolean,default:!1},ownerId:String},computed:{dialogState:{get:function(){return this.dialog},set:function(e){this.$emit("dialogState",e)}}},data:function(){return{newGroup:{name:"",description:""}}},methods:{create:function(){var e=this;this.$apollo.mutate({mutation:ke,variables:gt({},this.newGroup)}).then((function(){e.dialogState=!1})).catch(console.error)}}},bt=ht,_t=Object(p["a"])(bt,vt,mt,!1,null,null,null),wt=_t.exports,$t={props:{source:String,groupId:String},components:{CreateGroupDialog:wt},watch:{dialog:function(e){0==e&&this.$emit("closeDialog",!0)}},data:function(){return{dialog:!1}}},yt=$t,Ot=Object(p["a"])(yt,dt,pt,!1,null,null,null),xt=Ot.exports,St={apollo:{me:M},components:{CreateGroupComponent:xt},data:function(){return{me:{name:"",ownerOf:[],memberOf:[]}}},computed:{name:function(){return c.a.get(this,"$auth.user.name","")},ownsGroups:function(){return this.me.ownerOf.length>0},isGroupMember:function(){return this.me.memberOf.length>0}}},Et=St,jt=Object(p["a"])(Et,ct,lt,!1,null,null,null),Tt=jt.exports,kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[e._v("Login")])},Ct=[],Pt={mounted:function(){var e=this;this.$auth.handleAuthentication().then((function(){return e.$apollo.mutate({mutation:Te,variables:{name:e.$auth.user.name}})})).then((function(){e.$router.push({name:"profile"})})).catch((function(e){console.error(e)}))}},Gt=Pt,At=Object(p["a"])(Gt,kt,Ct,!1,null,null,null),Dt=At.exports,It=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ut=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logout"},[n("h1",[e._v("Logging out")])])}],qt={mounted:function(){var e=this;this.$auth.logout().then((function(){e.$router.push({name:"search-events"})}))}},Mt=qt,Lt=Object(p["a"])(Mt,It,Ut,!1,null,null,null),Vt=Lt.exports;r["default"].use(S["a"]);var Nt=[{path:"/",name:"events",component:Z},{path:"/groups",name:"groups",component:de},{path:"/group/:id",name:"group",component:nt,props:!0},{path:"/event/:id",name:"event",component:ut,props:!0},{path:"/profile",name:"profile",component:Tt},{path:"/login",name:"login",component:Dt},{path:"/logout",name:"logout",component:Vt}],Ft=new S["a"]({mode:"history",base:"/",routes:Nt});Ft.beforeEach((function(e,t,n){"login"==e.name?n():Ft.app.$auth.isAuthenticated()?n():Ft.app.$auth.login()}));var Ht=Ft,Bt=(n("d3b7"),n("96cf"),n("522d")),Rt=n("efe7");function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(n,!0).forEach((function(t){Object(be["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r["default"].use(Bt["a"]);var Wt="id_token",zt="https://joinus-api-bvb2qdxpoa-uc.a.run.app",Qt={httpEndpoint:zt,wsEndpoint:"wss://joinus-api-bvb2qdxpoa-uc.a.run.app",tokenName:Wt,persisting:!1,websocketsOnly:!1,ssr:!1};function Yt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(Rt["createApolloClient"])(Kt({},Qt,{},e)),n=t.apolloClient,r=t.wsClient;n.wsClient=r;var o=new Bt["a"]({defaultClient:n,defaultOptions:{$query:{}},errorHandler:function(e){console.log("%cError","background: red; color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold;",e.message)}});return o}var Xt=n("ce5b"),Zt=n.n(Xt);n("bf40");r["default"].use(Zt.a);var en=new Zt.a({theme:{options:{customProperties:!0},themes:{light:{primary:"#ee44aa",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}}),tn=n("b0af"),nn=new tn["a"].WebAuth({domain:"dev-if74kmty.auth0.com",clientID:"IaFVKRgZXNWFczYUBBodM1MA4Km7n2li",redirectUri:"http://joinus.ryancwynar.com/login",audience:"meetup-alternative-api",responseType:"token id_token",scope:"openid profile"}),rn=new r["default"]({data:function(){return{tokenValue:localStorage.getItem("id_token")||"",userValue:JSON.parse(localStorage.getItem("user"))||{},expiresAtValue:localStorage.getItem("expires_at")||0}},computed:{token:{get:function(){return this.tokenValue},set:function(e){this.tokenValue=e,localStorage.setItem("id_token",e)}},expiresAt:{get:function(){return this.expiresAtValue},set:function(e){this.expiresAtValue=JSON.stringify(1e3*e+(new Date).getTime()),localStorage.setItem("expires_at",this.expiresAtValue)}},user:{get:function(){return this.userValue},set:function(e){this.userValue=e,localStorage.setItem("user",JSON.stringify(e))}}},methods:{login:function(){nn.authorize()},logout:function(){return new Promise((function(){localStorage.removeItem("id_token"),localStorage.removeItem("expires_at"),localStorage.removeItem("user"),nn.logout({returnTo:Object({NODE_ENV:"production",VUE_APP_GRAPHQL_HTTP:"https://joinus-api-bvb2qdxpoa-uc.a.run.app",VUE_APP_GRAPHQL_WS:"wss://joinus-api-bvb2qdxpoa-uc.a.run.app",BASE_URL:"/"}).APP_HOST,clientID:"IaFVKRgZXNWFczYUBBodM1MA4Km7n2li"})}))},isAuthenticated:function(){return(new Date).getTime()<this.expiresAt},handleAuthentication:function(){var e=this;return new Promise((function(t,n){nn.parseHash((function(r,o){o&&o.idToken?(e.expiresAt=o.expiresIn,e.token=o.idToken,e.user=o.idTokenPayload,t()):r&&(e.logout(),n(r))}))}))}}}),on={install:function(e){e.prototype.$auth=rn}},an=n("ab6f");n("d5e8"),n("5363");r["default"].use(on),r["default"].use(an["a"],{apiKey:Object({NODE_ENV:"production",VUE_APP_GRAPHQL_HTTP:"https://joinus-api-bvb2qdxpoa-uc.a.run.app",VUE_APP_GRAPHQL_WS:"wss://joinus-api-bvb2qdxpoa-uc.a.run.app",BASE_URL:"/"}).GCLOUD_API_KEY}),r["default"].config.productionTip=!1,r["default"].mixin({filters:{noLastName:function(e){var t=e.split(" ");return"".concat(t[0]," ").concat(t[1][0],".")},formatDate:function(e){e=new Date(e);var t=["Jan","Feb","Mar","April","May","June","July","Aug","Sept","Oct","Nov","Dec"],n=e.getDate(),r=e.getMonth(),o=e.getFullYear();return"".concat(t[r]," ").concat(parseInt(n),", ").concat(o)},formatTime:function(e){var t=e.split(":"),n=parseInt(t[0]),r=parseInt(t[1]),o=!1;return n>12&&(o=!0,n%=12),"".concat(n).concat(r>0?":"+r:"").concat(o?"p":"a")}}}),new r["default"]({router:Ht,apolloProvider:Yt(),vuetify:en,data:function(){return{searchTerm:"",searchDistance:20,userLocation:{latitude:0,longitude:0}}},watch:{searchTerm:function(e){e&&"events"!==this.$route.name&&this.$router.push({name:"events"})}},render:function(e){return e(x)}}).$mount("#app")},"7b0e":function(e,t,n){"use strict";var r=n("c5a5"),o=n.n(r);o.a},c5a5:function(e,t,n){}});
//# sourceMappingURL=app.018fe583.js.map